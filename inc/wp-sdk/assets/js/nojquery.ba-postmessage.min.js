function NoJQueryPostMessageMixin(e,n){var t,i,o,s,a,r=1;if(window.postMessage){if(window.addEventListener){t=function(e){window.addEventListener("message",e,false)};i=function(e){window.removeEventListener("message",e,false)}}else{t=function(e){window.attachEvent("onmessage",e)};i=function(e){window.detachEvent("onmessage",e)}}this[e]=function(e,n,t){if(!n){return}t.postMessage(e,n.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))};this[n]=function(e,n,s){if(o){i(o);o=null}if(!e){return false}o=t(function(t){switch(Object.prototype.toString.call(n)){case"[object String]":if(n!==t.origin){return false}break;case"[object Function]":if(n(t.origin)){return false}break}e(t)})}}else{this[e]=function(e,n,t){if(!n){return}t.location=n.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e};this[n]=function(e,n,t){if(s){clearInterval(s);s=null}if(e){t=typeof n==="number"?n:typeof t==="number"?t:100;s=setInterval(function(){var n=document.location.hash,t=/^#?\d+&/;if(n!==a&&t.test(n)){a=n;e({data:n.replace(t,"")})}},t)}}}return this}